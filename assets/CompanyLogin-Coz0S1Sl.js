import{u as g,l as _,_ as f}from"./FormInput-B-dYdxN7.js";import{u as w,a,_ as L}from"./Button-BR6o4zY7.js";import{a as C,r as v,o as u,f as x,g as b,w as c,b as r,s as h,h as k,e as s,d as p}from"./index-CmU7BPTQ.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={},B={class:"divider text-center w-full flex items-center justify-center gap-4"};function G(i,l){return u(),C("div",B,[v(i.$slots,"default",{},void 0,!0)])}const H=V(F,[["render",G],["__scopeId","data-v-5db93729"]]),P="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.8055%2010.0415H21V10H12V14H17.6515C16.827%2016.3285%2014.6115%2018%2012%2018C8.6865%2018%206%2015.3135%206%2012C6%208.6865%208.6865%206%2012%206C13.5295%206%2014.921%206.577%2015.9805%207.5195L18.809%204.691C17.023%203.0265%2014.634%202%2012%202C6.4775%202%202%206.4775%202%2012C2%2017.5225%206.4775%2022%2012%2022C17.5225%2022%2022%2017.5225%2022%2012C22%2011.3295%2021.931%2010.675%2021.8055%2010.0415Z'%20fill='%23FFC107'/%3e%3cpath%20d='M3.15283%207.3455L6.43833%209.755C7.32733%207.554%209.48033%206%2011.9998%206C13.5293%206%2014.9208%206.577%2015.9803%207.5195L18.8088%204.691C17.0228%203.0265%2014.6338%202%2011.9998%202C8.15883%202%204.82783%204.1685%203.15283%207.3455Z'%20fill='%23FF3D00'/%3e%3cpath%20d='M12.0002%2022C14.5832%2022%2016.9302%2021.0115%2018.7047%2019.404L15.6097%2016.785C14.6057%2017.5455%2013.3577%2018%2012.0002%2018C9.39916%2018%207.19066%2016.3415%206.35866%2014.027L3.09766%2016.5395C4.75266%2019.778%208.11366%2022%2012.0002%2022Z'%20fill='%234CAF50'/%3e%3cpath%20d='M21.8055%2010.0415H21V10H12V14H17.6515C17.2555%2015.1185%2016.536%2016.083%2015.608%2016.7855L15.6095%2016.7845L18.7045%2019.4035C18.4855%2019.6025%2022%2017%2022%2012C22%2011.3295%2021.931%2010.675%2021.8055%2010.0415Z'%20fill='%231976D2'/%3e%3c/svg%3e",$={__name:"GoogleLogin",setup(i){const l=g(),{goToRoute:d}=w(),n=async t=>{try{const e={role:"company",...t},o=await _(e);a().showToast(o.message),h("token",o.payload.token),l.setProfile(o.payload),d("hasLoginView")}catch(e){a().error("登入失敗",e.message)}},m=t=>{const e={account:"company02@test.com",password:"c02c02"};t.code.startsWith("4/0")?a().confirm("成功取得 Google code",()=>n(e),"未搭配後端驗證，將使用［廠商二］身分登入"):a().error("授權失敗","無法取得 Google 帳號資訊")};return(t,e)=>{const o=x("GoogleLogin",!0);return u(),b(o,{callback:m},{default:c(()=>e[0]||(e[0]=[r("button",{class:"cursor-pointer w-full text-neutral-50 hover:text-neutral-30 py-2 flex justify-center items-center gap-2 rounded-full border border-neutral-80 hover:shadow-md"},[r("span",null,"Google 登入"),r("img",{src:P,alt:"Google icon"})],-1)])),_:1})}}},R={class:"px-3 w-full sm:w-2/3 md:w-1/2 lg:w-2/3 mx-auto flex flex-col gap-8 justify-center"},Z={__name:"CompanyLogin",setup(i){const l=g(),{goToRoute:d}=w(),n=k(null),m=async t=>{try{const e={role:"company",...t},o=await _(e);a().showToast(o.message),h("token",o.payload.token),l.setProfile(o.payload),n.value.resetForm(),d("hasLoginView")}catch(e){a().error("登入失敗",e.message)}};return(t,e)=>{const o=x("VForm");return u(),C("div",R,[e[2]||(e[2]=r("header",null,[r("h2",{class:"text-h2B text-center mb-6"},"校驗廠商"),r("h3",{class:"text-h3B text-center"},"專屬系統登入口")],-1)),s(o,{ref_key:"formRef",ref:n,class:"w-full flex flex-col",onSubmit:m},{default:c(({meta:y})=>[s(f,{id:"companyEmail",name:"account",label:"帳號",type:"email",rules:"required|email",placeholder:"請輸入電子信箱"}),s(f,{id:"companyPassword",name:"password",label:"密碼",type:"password",rules:"required|min:6|max:10",placeholder:"請輸入密碼"}),s(L,{size:"full",rounded:"lg",role:"company",disabled:!y.valid},{default:c(()=>e[0]||(e[0]=[p(" 登入系統 ")])),_:2},1032,["disabled"])]),_:1},512),s(H,null,{default:c(()=>e[1]||(e[1]=[p("OR")])),_:1}),s($)])}}};export{Z as default};
