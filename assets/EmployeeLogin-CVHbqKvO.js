import{u as f,_ as r,l as p}from"./FormInput-mAGYPLqL.js";import{u as _,_ as x,a as n}from"./Button-Zdrp6irP.js";import{h as y,a as w,b as a,e as s,w as m,f as g,o as h,d as b,s as k}from"./index-D8_ML_Ly.js";const V={class:"px-3 w-full sm:w-2/3 md:w-1/2 lg:w-2/3 mx-auto flex flex-col gap-8 justify-center items-center"},P={__name:"EmployeeLogin",setup(v){const i=f(),{goToRoute:c}=_(),t=y(null),d=async l=>{try{const e={role:"employee",...l},o=await p(e);n().showToast(o.message),k("token",o.payload.token),i.setProfile(o.payload),t.value.resetForm(),c("hasLoginView")}catch(e){n().error("登入失敗",e.message)}};return(l,e)=>{const o=g("VForm");return h(),w("div",V,[e[1]||(e[1]=a("header",null,[a("h2",{class:"text-h2B text-center mb-6"},"廠內職員"),a("h3",{class:"text-h3B text-center"},"專屬系統登入口")],-1)),s(o,{ref_key:"formRef",ref:t,class:"w-full flex flex-col",onSubmit:d},{default:m(({meta:u})=>[s(r,{id:"employeeEmail",name:"account",label:"帳號",type:"email",rules:"required|email",placeholder:"請輸入電子信箱"}),s(r,{id:"employeePassword",name:"password",label:"密碼",type:"password",rules:"required|min:6|max:10",placeholder:"請輸入密碼"}),s(x,{size:"full",rounded:"lg",role:"employee",disabled:!u.valid},{default:m(()=>e[0]||(e[0]=[b(" 登入系統 ")])),_:2},1032,["disabled"])]),_:1},512)])}}};export{P as default};
